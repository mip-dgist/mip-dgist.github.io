<style>
  /* Override all possible container classes */
  #research .container,
  #research .prose,
  section[id="research"] .container,
  section[id="research"] .prose,
  section[id="research"] > *,
  section[id="research"] > * > *,
  [id="research"] .container,
  [id="research"] .prose,
  [id="research"] > div,
  [id="research"] > div > div {
    max-width: 100% !important;
    width: 100% !important;
  }
  /* Target any max-width classes */
  section[id="research"] [class*="max-w"],
  [id="research"] [class*="max-w"] {
    max-width: 100% !important;
  }
  
  /* Scroll animation styles */
  .research-card {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
  }
  
  .research-card.visible {
    opacity: 1;
    transform: translateY(0);
  }
</style>
<div style="width: 100%; max-width: 100%; margin-left: auto; margin-right: auto; padding-left: 1rem; padding-right: 1rem;">
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-8">
  {{ range sort site.Data.research "order" }}
    <div class="research-card bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow">
      {{ $image := "" }}
      {{ if .image }}
        {{ if hasPrefix .image "/" }}
          {{ $image = .image }}
        {{ else }}
          {{ $image = printf "/media/research/%s" .image }}
        {{ end }}
      {{ else }}
        {{ $image = printf "/media/research/%s.jpg" .slug }}
      {{ end }}
      <div class="w-full overflow-hidden" style="height: 250px; display: flex; align-items: center; justify-content: center; background-color: #ffffff;">
        <img src="{{ $image }}" alt="{{ .title }}" class="max-w-full max-h-full object-contain" style="display: block; margin: 0;" onerror="this.style.display='none'">
      </div>
      <div class="p-3" style="padding: 0.75rem;">
        {{ if .category }}
          <span class="inline-block px-2 py-0.5 text-xs font-semibold text-white bg-purple-600 rounded-full" style="margin-bottom: 0.25rem;">{{ .category }}</span>
        {{ end }}
        <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100" style="margin-bottom: 0.25rem; margin-top: 0.25rem;">{{ .title }}</h3>
        <p class="text-sm text-gray-700 dark:text-gray-300" style="margin-bottom: 0.5rem;">{{ .description }}</p>
        {{ if .url }}
          <div class="mt-2">
            <a href="{{ .url }}" class="inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 dark:bg-blue-500 rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors shadow-sm hover:shadow-md">
              Read more
              <svg class="w-4 h-4 ml-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
              </svg>
            </a>
          </div>
        {{ end }}
      </div>
    </div>
  {{ end }}
  </div>
</div>

<script>
(function() {
  const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
  };
  
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
      }
    });
  }, observerOptions);
  
  // Observe all research cards
  document.querySelectorAll('.research-card').forEach(el => {
    observer.observe(el);
  });
})();
</script>

